---
title: 群数独
date: 2024/12/13
updated: 2025/03/30
tags: [解谜, 数学, 抽象代数, 原创]
---

看抽象代数的时候突然想到，群的 Cayley 表和数独一样，都要求每行（列）中的元素互异。
那么能不能按照群的规则（即结合律）出一道变种数独题呢？于是简单试了一下。

规则：

- 题面是一个 $10 \times 10$ 数表（行和列从 $0$ 开始计数），元素为 $0 \sim 9$ 的整数；第 $0$ 行和第 $0$ 列的值已经给出
- 与普通数独相同，每行、每列的元素不能重复；注意没有九宫格的条件
- 若 $i$ 行 $j$ 列的值为 $x$，$j$ 行 $k$ 列的值为 $y$，则 $i$ 行 $y$ 列和 $x$ 行 $k$ 列的值相同

TLDR：补全一个以 $0$ 为单位元的 $10$ 阶群的乘法表。（提示：$10$ 阶群只有 $\mathrm{Z}_{10}$ 和 $\mathrm{D}_{10}$ 两种）

题 1：（表中横、竖线仅作美化排版用途，无实际含义）

$$
\begin{array} {r|rrr|rrr|rrr}
0 & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 \\
\hline
1 & 0 &   &   &   &   &   &   &   &   \\
2 &   &   & 1 &   &   &   &   &   &   \\
3 &   & 4 &   &   &   &   &   &   &   \\
\hline
4 &   &   &   &   &   &   &   &   &   \\
5 &   &   &   & 2 &   &   &   &   &   \\
6 &   &   &   &   &   &   &   &   &   \\
\hline
7 &   &   &   &   &   & 3 &   &   &   \\
8 &   &   &   &   & 9 &   &   &   &   \\
9 &   &   &   &   &   &   &   &   &   \\
\end{array}
$$

{% note default no-icon 解析 %}
表中 $2 \times 3 \ne 3 \times 2$，说明这个群一定是 $\mathrm{D}_{10}$.
这里先明确一下记号：$\mathrm{D}_{10} = \langle r, s \mid r^5 = s^2 = e,\ sr = r^{-1}s \rangle$.

解决题目的关键在于理解 $\mathrm{D}_{10}$ 的自同构。
具体而言，对于任意的 $n \in \{1, 2, 3, 4\},\ m \in \{0, 1, 2, 3, 4\}$，存在一个自同构，把 $r^n$ 映射到 $r$，把 $r^m s$ 映射到 $s$.

$0$ 是单位元，而 $1 \times 1 = 0$，说明 $1$ 是“s 型”元素。
根据这个群的自同构，我们可以确定，假如本题有解，那么一定存在一个 $1$ 对应群中元素 $s$（下文简写为 $1 \sim s$）的解。
那么我们不妨设 $1 \sim s$.

$2 \times 3 = 1$，说明 $2$ 和 $3$ 一个是“r 型”，一个是“s 型”。
注意到 $5 \times (3 \times 2) = 2$，因此 $5$ 和 $3$ 互为逆元。
“s 型”元素的逆元都是它本身，因此 $3$ 是“r 型”，$2$ 是“s 型”。

不妨设 $3 \sim r$，则 $2 \sim rs$，$5 \sim r^4$.
$3 \times 2 = 4$，说明 $4 \sim r^2 s$.

这是目前已确定的元素：

| $0$ | $1$ | $2$ | $3$ | $4$ | $5$ | $6$ | $7$ | $8$ | $9$ |
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
| $e$ | $s$ | $rs$ | $r$ | $r^2 s$ | $r^4$ | | | | |

还剩下 $r^2,\, r^3,\, r^3 s,\, r^4s$ 尚未确定。

$7 \times 6 = 3$，说明 $6$ 和 $7$ 要么都是“r 型”，要么都是“s 型”。
而 $r^2 \times r^3 = r^3 \times r^2 = e$，说明 $6$ 和 $7$ 只能都是“s 型”，因此 $6 \sim r^3 s$，$7 \sim r^4 s$.

$8 \times 5 = 9$，而 $8$ 和 $9$ 只能在 $r^2,\, r^3$ 中取值，因此 $8 \sim r^3$，$9 \sim r^2$.

完整的对应关系如下：

| $0$ | $1$ | $2$ | $3$ | $4$ | $5$ | $6$ | $7$ | $8$ | $9$ |
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
| $e$ | $s$ | $rs$ | $r$ | $r^2 s$ | $r^4$ | $r^3 s$ | $r^4 s$ | $r^3$ | $r^2$ |

据此把乘法表补全即可。

答案：

$$
\begin{array} {r|rrr|rrr|rrr}
0 & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 \\
\hline
1 & 0 & 5 & 7 & 8 & 2 & 9 & 3 & 4 & 6 \\
2 & 3 & 0 & 1 & 5 & 4 & 8 & 9 & 6 & 7 \\
3 & 2 & 4 & 9 & 6 & 0 & 7 & 1 & 5 & 8 \\
\hline
4 & 9 & 3 & 2 & 0 & 6 & 5 & 8 & 7 & 1 \\
5 & 7 & 1 & 0 & 2 & 8 & 4 & 6 & 9 & 3 \\
6 & 8 & 9 & 4 & 3 & 7 & 0 & 5 & 1 & 2 \\
\hline
7 & 5 & 8 & 6 & 9 & 1 & 3 & 0 & 2 & 4 \\
8 & 6 & 7 & 5 & 1 & 9 & 2 & 4 & 3 & 0 \\
9 & 4 & 6 & 8 & 7 & 3 & 1 & 2 & 0 & 5 \\
\end{array}
$$
{% endnote %}

题 2：

$$
\begin{array} {r|rrr|rrr|rrr}
0 & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 \\
\hline
1 &   &   &   &   &   &   &   &   &   \\
2 &   &   &   &   &   &   &   &   &   \\
3 &   &   & 0 &   &   &   &   &   & 4 \\
\hline
4 &   &   &   &   &   &   &   & 0 &   \\
5 &   & 7 &   &   &   &   &   &   &   \\
6 &   &   &   &   &   &   &   &   &   \\
\hline
7 &   &   &   &   &   &   &   &   &   \\
8 &   &   &   &   & 2 &   &   &   &   \\
9 &   &   &   & 1 &   &   &   &   &   \\
\end{array}
$$

{% note default no-icon 解析 %}
用和题 1 类似的方法，可以发现 $\mathrm{D}_{10}$ 是不行的。因此，这个群只能是 $\mathrm{Z}_{10}$.
记 $\mathrm{Z}_{10} = \langle g \mid g^{10} = e \rangle$.

$3 \times 3 = 0$，说明 $3$ 的阶为 $2$，因此 $3 \sim g^5$.

考虑从 $4$ 出发往后推。但我们还不确定 $4$ 的阶是 $5$ 还是 $10$.
先假设 $4$ 的阶是 $5$，那么不妨设 $4 \sim g^2$.

$3 \times 9 = 4$，说明 $9 \sim g^7$.
$4 \times 8 = 0$，说明 $8 \sim g^8$.
$9 \times 4 = 1$，说明 $1 \sim g^9$.

这是目前已确定的元素：

| $0$ | $1$ | $2$ | $3$ | $4$ | $5$ | $6$ | $7$ | $8$ | $9$ |
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
| $e$ | $g^9$ | | $g^5$ | $g^2$ | | | | $g^8$ | $g^7$ |

还剩下 $g,\, g^3,\, g^4,\, g^6$ 尚未确定。

还有两个条件没有用到：$5 \times 2 = 7$ 和 $8 \times 5 = 2$.
对 $8 \times 5 \times 2$ 使用结合律，得到 $2 \times 2 = 8 \times 7$.

这说明 $7$ 是 $g^4$ 或者 $g^6$.
若 $7 \sim g^4$，则 $2 \sim g$ 或 $2 \sim g^6$；若 $7 \sim g^6$，则 $2 \sim g^2$ 或 $2 \sim g^7$，矛盾。
因此，$7 \sim g^4$.

$5 \times 2 = 7$，若 $2 \sim g$，则 $5 \sim g^3$；若 $2 \sim g^6$，则 $5 \sim g^8$，矛盾。因此，$2 \sim g$，$5 \sim g^3$，$6 \sim g^6$.

完整的对应关系如下：

| $0$ | $1$ | $2$ | $3$ | $4$ | $5$ | $6$ | $7$ | $8$ | $9$ |
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
| $e$ | $g^9$ | $g$ | $g^5$ | $g^2$ | $g^3$ | $g^6$ | $g^4$ | $g^8$ | $g^7$ |

据此把乘法表补全即可。

如果 $4$ 的阶是 $10$，按同样流程推导会出现矛盾，过程不再赘述。

答案：

$$
\begin{array} {r|rrr|rrr|rrr}
0 & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 \\
\hline
1 & 8 & 0 & 7 & 2 & 4 & 3 & 5 & 9 & 6 \\
2 & 0 & 4 & 6 & 5 & 7 & 9 & 3 & 1 & 8 \\
3 & 7 & 6 & 0 & 9 & 8 & 2 & 1 & 5 & 4 \\
\hline
4 & 2 & 5 & 9 & 7 & 3 & 8 & 6 & 0 & 1 \\
5 & 4 & 7 & 8 & 3 & 6 & 1 & 9 & 2 & 0 \\
6 & 3 & 9 & 2 & 8 & 1 & 4 & 0 & 7 & 5 \\
\hline
7 & 5 & 3 & 1 & 6 & 9 & 0 & 8 & 4 & 2 \\
8 & 9 & 1 & 5 & 0 & 2 & 7 & 4 & 6 & 3 \\
9 & 6 & 8 & 4 & 1 & 0 & 5 & 2 & 3 & 7 \\
\end{array}
$$
{% endnote %}

---

以下是作者的一些疑问：

1. 存不存在只有 5 个已知数且有唯一解的题面？
2. 有没有比较有效的方法构造这类题目的 $8 \times 8$ 版本？
